!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("LinePlayer",[],t):"object"==typeof exports?exports.LinePlayer=t():e.LinePlayer=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=1)}([function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={getElementViewLeft:function(e){var t=e.offsetLeft,n=e.offsetParent,i=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==e;)t+=n.offsetLeft,n=n.offsetParent;else for(;null!==n;)t+=n.offsetLeft,n=n.offsetParent;return t-i},fullHeight:function(e){var t=void 0===window.getComputedStyle?e.currentStyle:window.getComputedStyle(e),n=parseInt(t.marginTop),i=parseInt(t.marginBottom),a=parseInt(t.paddingTop),o=parseInt(t.paddingBottom),l=parseInt(t.borderTopWidth),r=parseInt(t.borderBottomWidth);return e.offsetHeight+(isNaN(n)?0:n)+(isNaN(i)?0:i)+(isNaN(a)?0:a)+(isNaN(o)?0:o)+(isNaN(l)?0:l)+(isNaN(r)?0:r)},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(e){var t=e.left,n=void 0===t?0:t,i=e.top,a=void 0===i?0:i;this.isFirefox?(document.documentElement.scrollLeft=n,document.documentElement.scrollTop=a):window.scrollTo(n,a)},extendArray:function(e,t){for(var n in t)t.hasOwnProperty(n)&&("object"===i(e[n])?e[n]=this.extendArray(e[n],t[n]):e[n]=t[n]);return e},currentDateTime:function(){var e=new Date;return e.toLocaleDateString()+" "+e.toLocaleTimeString()},saveAs:function(e,t){var n=document.createElement("a");"string"==typeof n.download?(n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)):window.open(e)},isMobile:/mobile/i.test(window.navigator.userAgent),isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}}}},function(e,t,n){"use strict";console.log("\n %c LinePlayer 1.0.0-beta2 3b248b5 %c http://lineplayer.js.org \n\n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),e.exports=n(2)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(3);var l=n(0),r=(i(l),n(4)),s=i(r),c=n(6),u=i(c),p=n(7),d=i(p),h=n(8),v=i(h),f=n(9),y=i(f),m=n(10),g=i(m),b=n(11),w=i(b),k=n(12),L=i(k),x=n(13),q=i(x),E=n(14),S=i(E),M=n(16),T=i(M),P=n(17),B=i(P),C=n(18),H=i(C),z=n(19),_=i(z),F=0,A=[],O=function(){function e(t){var n=this;a(this,e),this.options=(0,s.default)(t),this.tran=new u.default(this.options.lang).tran,this.icons=new v.default(this.options),this.events=new y.default,this.user=new w.default(this),this.container=this.options.container,this.container.classList.add("lineplayer"),this.options.live&&this.container.classList.add("lineplayer-live"),l.isMobile&&this.container.classList.add("lineplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("lineplayer-arrow"),this.template=new d.default({container:this.container,options:this.options,index:F,tran:this.tran,icons:this.icons}),this.video=this.template.video,this.bar=new L.default(this),this.bezel=new q.default(this.template.bezel),this.fullScreen=new g.default(this),this.controller=new S.default(this),this.setting=new T.default(this),document.addEventListener("click",function(){n.focus=!1},!0),this.container.addEventListener("click",function(){n.focus=!0},!0),this.paused=!0,this.hotkey=new B.default(this),this.contextmenu=new H.default(this),this.initVideoEvents(this.video),this.options.line&&(this.lineserver=new _.default({callback:function(){setTimeout(function(){n.switchVideo(0),n.options.autoplay&&!l.isMobile?n.play():l.isMobile&&n.pause()},0)},error:function(e){n.notice(e)},line:this.options.line,events:this.events})),F++,A.push(this)}return o(e,[{key:"initVideoEvents",value:function(){var e=this;this.on("error",function(){e.tran&&e.notice&&e.notice(e.tran("This video fails to load"),-1)}),this.on("play",function(){e.paused&&e.play()}),this.on("pause",function(){e.paused||e.pause()}),this.on("lineserver_load_start",function(){e.container.classList.add("lineplayer-loading")}),this.on("lineserver_load_end",function(){e.container.classList.remove("lineplayer-loading")});for(var t=0;t<this.events.videoEvents.length;t++)!function(t){e.video.addEventListener(e.events.videoEvents[t],function(){e.events.trigger(e.events.videoEvents[t])})}(t);this.options.volume?this.volume(this.user.get("volume"),!0,!0):this.video.muted=!0}},{key:"switchVideo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e=Math.max(0,Math.min(this.lineserver.cameras.length-1,e)),t=Math.max(0,Math.min(this.lineserver.cameras[e].quality.length-1,t)),(e!=this.currentChannel||t!=this.qurentQuality)&&(this.currentChannel=e,this.currentQuality=t,Hls&&Hls.isSupported())){var n=this.video.paused;n||this.pause(),this.video.poster=this.lineserver.cameras[e].image,this.url=this.lineserver.cameras[e].quality[t].url,this.title(this.lineserver.cameras[e].name),this.controller.initQualityButton(this.lineserver.cameras[e].quality,t),n||this.play()}}},{key:"play",value:function(){if(this.paused=!1,this.video.paused&&this.bezel.switch(this.icons.get("play")),Hls&&Hls.isSupported()&&(this.hls=new Hls,this.hls.loadSource(this.url),this.hls.attachMedia(this.video)),this.template.playButton.innerHTML=this.icons.get("pause"),this.template.playButton.setAttribute("data-balloon",this.tran("Pause")),this.video.play(),this.container.classList.add("lineplayer-playing"),this.template.liveBadge.style.display="inline-block",this.options.mutex)for(var e=0;e<A.length;e++)this!==A[e]&&A[e].pause()}},{key:"pause",value:function(){if(this.paused=!0,this.video.paused||this.bezel.switch(this.icons.get("pause")),Hls&&Hls.isSupported()){var e=document.createElement("canvas");e.width=this.video.clientWidth,e.height=this.video.clientHeight,e.getContext("2d").drawImage(this.video,0,0,e.width,e.height),this.video.poster=e.toDataURL(),this.hls.stopLoad(),this.hls.detachMedia()}this.template.playButton.innerHTML=this.icons.get("play"),this.template.playButton.setAttribute("data-balloon",this.tran("Play")),this.video.pause(),this.container.classList.remove("lineplayer-playing"),this.template.liveBadge.style.display="none"}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=this.icons.get("volume-up"):this.volume()>0?this.template.volumeIcon.innerHTML=this.icons.get("volume-down"):this.template.volumeIcon.innerHTML=this.icons.get("volume-off")}},{key:"volume",value:function(e,t,n){if(e=parseFloat(e),!isNaN(e)){e=Math.max(e,0),e=Math.min(e,1),this.bar.set("volume",e,"width");var i=this.tran("Volume")+" "+(100*e).toFixed(0)+"%";this.template.volumeBarWrapWrap.dataset.balloon=i,t||this.user.set("volume",e),n||this.notice(this.tran("Volume")+" "+(100*e).toFixed(0)+"%"),this.video.volume=e,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"notice",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=e,this.template.notice.style.opacity=i,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("notice_show",e),this.noticeTime=setTimeout(function(){t.template.notice.style.opacity=0,t.events.trigger("notice_hide")},n)}},{key:"title",value:function(e){this.template.title&&(this.template.title.innerHTML=e)}},{key:"resize",value:function(){this.events.trigger("resize")}},{key:"destroy",value:function(){A.splice(A.indexOf(this),1),this.pause(),this.controller.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy");for(var e in this)this.hasOwnProperty(e)&&"paused"!==e&&delete this[e]}}]),e}();e.exports=O},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(0),l=i(o),r=n(5),s=i(r);e.exports=function(e){var t;o.isMobile&&(e.autoplay=!1);var n=(t={container:e.element||document.getElementsByClassName("dplayer")[0],autoplay:!1,title:!0,theme:"#b7daff",lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,volume:!0,hotkey:!0},a(t,"volume",.7),a(t,"line",{proto:"http://",port:9786,user:"web"}),a(t,"icons",(0,s.default)()),a(t,"iconsColor","#ffffff"),a(t,"contextmenu",[]),a(t,"mutex",!0),t);if(e=l.default.extendArray(n,e),e.lang&&(e.lang=e.lang.toLowerCase()),e.logo){var i=new Image;i.onload=function(){var t=i.naturalWidth,n=i.naturalHeight,a=e.container.querySelector(".lineplayer-title");a&&(a.style.paddingLeft=40+t+"px",a.style.top=20+Math.round(n-l.default.fullHeight(a))/2+"px")},i.src=e.logo}return e.contextmenu=e.contextmenu.concat([{text:"About LinePlayer",link:"https://github.com/andresys/LinePlayer"},{text:"LinePlayer feedback",link:"https://github.com/andresys/LinePlayer/issues"},{text:"LinePlayer 1.0.0-beta2 3b248b5",link:"https://github.com/andresys/LinePlayer/releases"}]),e}},function(e,t,n){"use strict";e.exports=function(e){return{play:["0 0 16 32","M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"],pause:["0 0 17 32","M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"],"volume-up":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"],"volume-down":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"],"volume-off":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"],full:["0 0 32 33","M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"],setting:["0 0 32 28","M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"],right:["0 0 32 32","M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"],camera:["0 0 32 32","M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"]}}},function(e,t,n){"use strict";e.exports=function(e){var t=this;this.lang=e,this.tran=function(e){return i[t.lang]&&i[t.lang][e]?i[t.lang][e]:e}};var i={"ru-ru":{"LinePlayer is loading":"LinePlayer \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f","LinePlayer feedback":"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0437\u044b\u0432","About LinePlayer":"\u041e LinePlayer","This video fails to load":"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u0438\u0434\u0435\u043e","Full screen":"\u0412\u043e \u0432\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d",Screenshot:"\u0421\u043a\u0440\u0438\u043d\u0448\u043e\u0442",Volume:"\u0413\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u044c",Live:"\u0412 \u044d\u0444\u0438\u0440\u0435",Play:"\u0412\u043e\u0437\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438",Pause:"\u041f\u0430\u0443\u0437\u0430","Quality change":"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0438\u0434\u0435\u043e"}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.container=t.container,this.options=t.options,this.index=t.index,this.tran=t.tran,this.icons=t.icons,this.init()}return a(e,[{key:"init",value:function(){this.container.innerHTML=this.tpl(this.options,this.index,this.tran,this.icons),this.volumeBar=this.container.querySelector(".lineplayer-volume-bar-inner"),this.volumeBarWrap=this.container.querySelector(".lineplayer-volume-bar"),this.volumeBarWrapWrap=this.container.querySelector(".lineplayer-volume-bar-wrap"),this.volumeButton=this.container.querySelector(".lineplayer-volume"),this.volumeIcon=this.container.querySelector(".lineplayer-volume-icon .lineplayer-icon-content"),this.video=this.container.querySelector(".lineplayer-video-current"),this.bezel=this.container.querySelector(".lineplayer-bezel-icon"),this.playButton=this.container.querySelector(".lineplayer-play-icon"),this.videoWrap=this.container.querySelector(".lineplayer-video-wrap"),this.controllerMask=this.container.querySelector(".lineplayer-controller-mask"),this.mask=this.container.querySelector(".lineplayer-mask"),this.controller=this.container.querySelector(".lineplayer-controller"),this.browserFullButton=this.container.querySelector(".lineplayer-full-icon"),this.menu=this.container.querySelector(".lineplayer-menu"),this.camareButton=this.container.querySelector(".lineplayer-camera-icon"),this.quality=this.container.querySelector(".lineplayer-quality"),this.liveBadge=this.container.querySelector(".lineplayer-live-badge"),this.notice=this.container.querySelector(".lineplayer-notice"),this.title=this.container.querySelector(".lineplayer-title")}},{key:"tpl",value:function(e,t,n,i){return'<div class="lineplayer-mask"></div><div class="lineplayer-video-wrap">'+this.tplVideo(!0,void 0,e.screenshot,void 0)+(e.title?'<div class="lineplayer-title"></div>':"")+(e.logo?'<div class="lineplayer-logo"><img src="'+e.logo+'"></div>':"")+'<div class="lineplayer-bezel"><span class="lineplayer-bezel-icon"></span><span class="lineplayer-danloading">'+n("LinePlayer is loading")+'</span><span class="lineplayer-loading-icon"><svg height="100%" version="1.1" viewBox="0 0 22 22" width="100%"><svg x="7" y="1"><circle class="lineplayer-loading-dot lineplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="lineplayer-loading-dot lineplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="lineplayer-loading-dot lineplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="lineplayer-loading-dot lineplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="lineplayer-loading-dot lineplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="lineplayer-loading-dot lineplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="lineplayer-loading-dot lineplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="lineplayer-loading-dot lineplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg></span></div></div><div class="lineplayer-controller-mask"></div><div class="lineplayer-controller"><div class="lineplayer-icons lineplayer-icons-left"><button class="lineplayer-icon lineplayer-play-icon" data-balloon="'+n("Play")+'" data-balloon-pos="up"><span class="lineplayer-icon-content">'+i.get("play")+"</span></button>"+(e.volume?'<div class="lineplayer-volume"><button class="lineplayer-icon lineplayer-volume-icon"><span class="lineplayer-icon-content">'+i.get("volume-down")+'</span></button><div class="lineplayer-volume-bar-wrap" data-balloon-pos="up"><div class="lineplayer-volume-bar"><div class="lineplayer-volume-bar-inner" style="background: '+e.theme+';"><span class="lineplayer-thumb" style="background: '+e.theme+'"></span></div></div></div></div>':"")+'<span class="lineplayer-live-badge"><span class="lineplayer-live-dot" style="background: '+e.theme+';"></span>'+n("Live")+'</span></div><div class="lineplayer-icons lineplayer-icons-right"><div class="lineplayer-quality"></div>'+(e.screenshot?'<div class="lineplayer-camera"><button class="lineplayer-icon lineplayer-camera-icon" data-balloon="'+n("Screenshot")+'" data-balloon-pos="up"><span class="lineplayer-icon-content">'+i.get("camera")+"</span></button></div>":"")+'<div class="lineplayer-full"><button class="lineplayer-icon lineplayer-full-icon" data-balloon="'+n("Full screen")+'" data-balloon-pos="up"><span class="lineplayer-icon-content">'+i.get("full")+"</span></button></div></div></div>"+this.tplContextmenuList(e.contextmenu,n)+'<div class="lineplayer-notice"></div>'}},{key:"tplContextmenuList",value:function(e,t){for(var n='<div class="lineplayer-menu">',i=0;i<e.length;i++)n+='<div class="lineplayer-menu-item"><a target="_blank" href="'+e[i].link+'">'+t(e[i].text)+"</a></div>";return n+="</div>"}},{key:"tplQuality",value:function(e,t){for(var n='<div class="lineplayer-quality-list">',i=0;i<e.length;i++)n+='<div class="lineplayer-quality-item" data-index="'+i+'">'+e[i].name+"</div>";return n+="</div>",'<button class="lineplayer-icon lineplayer-quality-icon">'+e[t].name+'</button><div class="lineplayer-quality-mask">'+n+"</div>"}},{key:"tplVideo",value:function(e,t,n,i){return'<video class="lineplayer-video '+(e?'lineplayer-video-current"':"")+'" '+(t?'poster="'+t+'"':"")+" webkit-playsinline playsinline "+(n?'crossorigin="anonymous"':"")+' src="'+i+'"></video>'}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.icons=t.icons,this.iconColor=t.iconsColor}return a(e,[{key:"get",value:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(this.icons[e][2]||"100%")+'" height="'+(this.icons[e][2]||"100%")+'" version="1.1" viewBox="'+this.icons[e][0]+'"><path class="lineplayer-fill" style="fill:'+this.iconColor+'" d="'+this.icons[e][1]+'" id="lineplayer-'+e+'"></path></svg>'}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel"],this.serverEvents=["lineserver_load_start","lineserver_load_end"]}return a(e,[{key:"on",value:function(e,t){this.type(e)&&"function"==typeof t&&(this.events[e]||(this.events[e]=[]),this.events[e].push(t))}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var n=0;n<this.events[e].length;n++)this.events[e][n](t)}},{key:"type",value:function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.videoEvents.indexOf(e)?"video":-1!==this.serverEvents.indexOf(e)?"server":(console.error("Unknown event name: "+e),null)}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){var n=this;i(this,e),this.player=t;var a=function(){n.player.resize(),n.isFullScreen()?n.player.events.trigger("fullscreen"):(l.default.setScrollPosition(n.lastScrollPosition),n.player.events.trigger("fullscreen_cancel"))};this.player.container.addEventListener("fullscreenchange",a),this.player.container.addEventListener("mozfullscreenchange",a),this.player.container.addEventListener("webkitfullscreenchange",a)}return a(e,[{key:"isFullScreen",value:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement}},{key:"request",value:function(){this.lastScrollPosition=l.default.getScrollPosition(),this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen&&this.player.video.webkitEnterFullscreen(),this.cancel()}},{key:"cancel",value:function(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}},{key:"toggle",value:function(){this.isFullScreen()?this.cancel():this.request()}}]),e}();e.exports=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){i(this,e),this.storageName={volume:"lineplayer-volume"},this.default={volume:t.options.volume||.7},this.data={},this.init()}return a(e,[{key:"init",value:function(){for(var e in this.storageName){var t=this.storageName[e];this.data[e]=parseFloat(l.default.storage.get(t)||this.default[e])}}},{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t,l.default.storage.set(this.storageName[e],t)}}]),e}();e.exports=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.player=t,this.elements={},this.player.options.volume&&(this.elements.volume=this.player.template.volumeBar)}return a(e,[{key:"set",value:function(e,t,n){t=Math.max(t,0),t=Math.min(t,1),this.elements[e].style[n]=100*t+"%"}},{key:"get",value:function(e){return parseFloat(this.elements[e].style.width)/100}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.container=t,this.container.addEventListener("animationend",function(){n.container.classList.remove("lineplayer-bezel-transition")})}return a(e,[{key:"switch",value:function(e){this.container.innerHTML=e,this.container.classList.add("lineplayer-bezel-transition")}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),r=i(l),s=n(15),c=i(s),u=function(){function e(t){var n=this;a(this,e),this.player=t,this.autoHideTimer=0,l.isMobile||(this.player.container.addEventListener("mousemove",function(){n.setAutoHide()}),this.player.container.addEventListener("click",function(){n.setAutoHide()}),this.player.template.controller.addEventListener("mouseenter",function(){n.disableAutoHide=!0}),this.player.template.controller.addEventListener("mouseleave",function(){n.disableAutoHide=!1}),this.player.template.controllerMask.addEventListener("mouseenter",function(){n.disableAutoHide=!0}),this.player.template.controllerMask.addEventListener("mouseleave",function(){n.disableAutoHide=!1}),this.player.template.mask.addEventListener("mouseenter",function(){n.disableAutoHide=!0})),this.initPlayButton(),this.initFullButton(),this.initVolumeButton(),this.initScreenshotButton()}return o(e,[{key:"initPlayButton",value:function(){var e=this;this.player.template.playButton.addEventListener("click",function(){e.player.toggle()}),l.isMobile?(this.player.template.videoWrap.addEventListener("click",function(){e.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){e.toggle()})):(this.player.template.videoWrap.addEventListener("click",function(){e.player.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){e.player.toggle()}))}},{key:"initFullButton",value:function(){var e=this;this.player.template.browserFullButton.addEventListener("click",function(){e.player.fullScreen.toggle("browser")})}},{key:"initVolumeButton",value:function(){var e=this;if(this.player.options.volume){var t=function(t){var n=t||window.event,i=(n.clientX-r.default.getElementViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(i,!1,!0)},n=function n(){document.removeEventListener("mouseup",n),document.removeEventListener("mousemove",t),e.player.template.volumeButton.classList.remove("lineplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",function(t){var n=t||window.event,i=(n.clientX-r.default.getElementViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(i,!1,!0)}),this.player.template.volumeBarWrapWrap.addEventListener("mousedown",function(){document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),e.player.template.volumeButton.classList.add("lineplayer-volume-active")}),this.player.template.volumeIcon.addEventListener("click",function(){e.player.video.muted?(e.player.video.muted=!1,e.player.switchVolumeIcon(),e.player.bar.set("volume",e.player.volume(),"width")):(e.player.video.muted=!0,e.player.template.volumeIcon.innerHTML=e.player.icons.get("volume-off"),e.player.bar.set("volume",0,"width"))})}}},{key:"initQualityButton",value:function(e,t){var n=this;this.player.template.quality.innerHTML=this.player.template.tplQuality(e,t);var i=this.player.template.quality.querySelector(".lineplayer-quality-list");i&&i.addEventListener("click",function(e){e.target.classList.contains("lineplayer-quality-item")&&n.player.switchVideo(n.player.currentChannel,parseInt(e.target.dataset.index))})}},{key:"initScreenshotButton",value:function(){var e=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",function(t){t.preventDefault();var n=document.createElement("canvas");n.width=e.player.video.videoWidth,n.height=e.player.video.videoHeight,n.getContext("2d").drawImage(e.player.video,0,0,n.width,n.height);var i=n.toDataURL("image/png"),a=(e.player.template.title&&e.player.template.title.innerHTML||"LinePlayer")+" - "+r.default.currentDateTime()+".png";(0,c.default)(i,a,"image/png"),e.player.events.trigger("screenshot",i)})}},{key:"setAutoHide",value:function(){var e=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){e.player.video.paused||e.disableAutoHide||e.hide()},2e3)}},{key:"show",value:function(){this.player.container.classList.remove("lineplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("lineplayer-hide-controller")}},{key:"isShow",value:function(){return!this.player.container.classList.contains("lineplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){clearTimeout(this.autoHideTimer)}}]),e}();e.exports=u},function(e,t,n){"use strict";e.exports=function(e,t,n){function i(e){var t=e.split(/[:;,]/),n=t[1],i="base64"==t[2]?atob:decodeURIComponent,a=i(t.pop()),o=a.length,l=0,r=new Uint8Array(o);for(l;l<o;++l)r[l]=a.charCodeAt(l);return new v([r],{type:n})}function a(e,t){if("download"in d)return d.href=e,d.setAttribute("download",f),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout(function(){d.click(),document.body.removeChild(d),!0===t&&setTimeout(function(){r.URL.revokeObjectURL(d.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return e=e.replace(/^data:([\w\/\-\+]+)/,s),window.open(e)||confirm("Displaying New DocumentUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),t||(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}var o,l,r=window,s="application/octet-stream",c=n||s,u=e,p=!t&&!n&&u,d=document.createElement("a"),h=function(e){return String(e)},v=r.Blob||r.MozBlob||r.WebKitBlob||h,f=t||"download";if(v=v.call?v.bind(r):Blob,"true"===String(this)&&(u=[u,c],c=u[0],u=u[1]),p&&p.length<2048&&(f=p.split("/").pop().split("?")[0],d.href=p,-1!==d.href.indexOf(p))){var y=new XMLHttpRequest;return y.open("GET",p,!0),y.responseType="blob",y.onload=function(e){download(e.target.response,f,s)},setTimeout(function(){y.send()},0),y}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(u)){if(!(u.length>2096103.424&&v!==h))return navigator.msSaveBlob?navigator.msSaveBlob(i(u),f):a(u);u=i(u),c=u.type||s}if(o=u instanceof v?u:new v([u],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(o,f);if(r.URL)a(r.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===h)try{return a("data:"+c+";base64,"+r.btoa(o))}catch(e){return a("data:"+c+","+encodeURIComponent(o))}l=new FileReader,l.onload=function(){a(this.result)},l.readAsDataURL(o)}return!0}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),l=(function(e){e&&e.__esModule}(o),function(){function e(t){var n=this;i(this,e),this.player=t,this.player.template.mask.addEventListener("click",function(){n.hide()})}return a(e,[{key:"hide",value:function(){this.player.template.mask.classList.remove("lineplayer-mask-show"),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.mask.classList.add("lineplayer-mask-show"),this.player.controller.disableAutoHide=!0}}]),e}());e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function e(t){i(this,e),t.options.hotkey&&document.addEventListener("keydown",function(e){if(t.focus){var n=document.activeElement.tagName.toUpperCase(),i=document.activeElement.getAttribute("contenteditable");if("INPUT"!==n&&"TEXTAREA"!==n&&""!==i&&"true"!==i){var a=e||window.event,o=void 0;switch(a.keyCode){case 32:a.preventDefault(),t.toggle();break;case 38:a.preventDefault(),o=t.volume()+.1,t.volume(o);break;case 40:a.preventDefault(),o=t.volume()-.1,t.volume(o)}}}}),document.addEventListener("keydown",function(e){switch((e||window.event).keyCode){case 27:t.fullScreen.isFullScreen("web")&&t.fullScreen.cancel("web")}})};e.exports=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.container.addEventListener("contextmenu",function(e){var t=e||window.event;t.preventDefault();var i=n.player.container.getBoundingClientRect();n.show(t.clientX-i.left,t.clientY-i.top),n.player.template.mask.addEventListener("click",function(){n.hide()})})}return a(e,[{key:"show",value:function(e,t){this.player.template.menu.classList.add("lineplayer-menu-show");var n=this.player.container.getBoundingClientRect();e+this.player.template.menu.offsetWidth>=n.width?(this.player.template.menu.style.right=n.width-e+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=e+"px",this.player.template.menu.style.right="initial"),t+this.player.template.menu.offsetHeight>=n.height?(this.player.template.menu.style.bottom=n.height-t+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=t+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("lineplayer-mask-show"),this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("lineplayer-mask-show"),this.player.template.menu.classList.remove("lineplayer-menu-show"),this.player.events.trigger("contextmenu_hide")}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(o),r=n(20),s=function(){function e(t){i(this,e),this.options=t,this.cameras=[],this.showing=!0,this.events=this.options.events,this.load()}return a(e,[{key:"load",value:function(){var e=this,t=this.makeurl();this.events&&this.events.trigger("lineserver_load_start"),r.read(t,function(t,n){if(t)t.response?e.options.error(t.response.msg):e.options.error("Request was unsuccessful: "+t.status);else{var i=[e.options.line.channels||[]].reduce(function(e,t){return e.concat(t)},[]);e.cameras=[].concat.apply([],n).map(function(t){if(0==i.length||i.indexOf(parseInt(/cameras\/(\d+)/i.exec(t.uri)[1]))>=0)return{name:t.name,image:e.makeurl(t["image-uri"]),quality:[{name:"HD",url:e.makeurl(t["streaming-uri"]+"/main.m3u8")},{name:"SD",url:e.makeurl(t["streaming-uri"]+"/sub.m3u8")}]}}).filter(function(e){return e}),e.options.callback(),e.events&&e.events.trigger("lineserver_load_end")}})}},{key:"makeurl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/cameras",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=""+this.options.line.proto+this.options.line.host+":"+this.options.line.port,i=l.default.extendArray({authorization:"Basic "+btoa(this.options.line.user+":"+this.options.line.password)},t),a=[];for(var o in i)i.hasOwnProperty(o)&&a.push(o+"="+encodeURIComponent(i[o]));return""+n+e+"?"+a.join("&")}}]),e}();e.exports=s},function(e,t,n){"use strict";var i=function(e,t,n,i){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState){if(a.status>=200&&a.status<300||304===a.status){var e=JSON.parse(a.responseText);return n(a,e)}i(a)}},a.open(null!==t?"POST":"GET",e,!0),a.setRequestHeader("Accept","application/json"),a.send(null!==t?JSON.stringify(t):null)};e.exports={send:function(e,t,n){i(e,t,function(e,t){console.log("Post lineserver: ",t),n&&n()},function(e){console.log("Request was unsuccessful: "+e.status)})},read:function(e,t){i(e,null,function(e,n){t(null,n)},function(e){t({status:e.status,response:null})})}}}])});
//# sourceMappingURL=LinePlayer.min.js.map